{"version":3,"sources":["components/Searchbar/Searchbar.module.css","components/Modal/Modal.module.css","components/Button/Button.module.css","components/Modal/Modal.js","components/Searchbar/Searchbar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/Button/Button.js","services/pixabayApi.js","components/ImageGallery/ImageGallery.js","App.js","index.js","components/ImageGallery/ImageGallery.module.css"],"names":["module","exports","modalRoot","document","querySelector","Modal","state","handleClose","e","toggleModal","props","target","currentTarget","handleEsc","code","this","window","addEventListener","removeEventListener","children","createPortal","className","s","backDrop","onClick","content","Component","Searchbar","queryVal","handleChange","setState","value","handleSubmit","preventDefault","onSubmit","SearchForm","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","autoComplete","autoFocus","placeholder","onChange","ImageGalleryItem","el","getElem","webformatURL","largeImageURL","src","alt","ImageGalleryItemImage","Button","btn","query","page","a","searchUrl","url","axios","get","response","data","ImageGallery","showModal","elem","gallery","total","shouldRenderLoadMoreBtn","length","GalleryContainer","map","shortid","generate","modalImg","getFetch","x","App","msg","isLoading","selectedImg","fetchGalleryItems","then","result","hits","prevState","scrollTo","top","documentElement","scrollHeight","behavior","alert","catch","err","console","log","finally","getQuery","prevProps","color","height","width","timeout","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.15fee8bd.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__3ltN2\",\"SearchForm\":\"Searchbar_SearchForm__3sMlS\",\"SearchFormButton\":\"Searchbar_SearchFormButton__KRYkK\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__3p9yQ\",\"SearchFormInput\":\"Searchbar_SearchFormInput__3kQ91\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"backDrop\":\"Modal_backDrop__cmbiN\",\"content\":\"Modal_content__3wlZT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"btn\":\"Button_btn__3sB0F\"};","import React, { Component } from \"react\";\r\nimport { createPortal } from \"react-dom\";\r\nimport s from \"./Modal.module.css\";\r\n\r\nconst modalRoot = document.querySelector(\"#modal-root\");\r\n\r\nexport default class Modal extends Component {\r\n  state = {};\r\n\r\n  componentDidMount() {\r\n    const { handleEsc } = this;\r\n    window.addEventListener(\"keydown\", handleEsc);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    const { handleEsc } = this;\r\n    window.removeEventListener(\"keydown\", handleEsc);\r\n  }\r\n\r\n  handleClose = (e) => {\r\n    const { toggleModal } = this.props;\r\n\r\n    if (e.target === e.currentTarget) {\r\n      toggleModal();\r\n    }\r\n  };\r\n  handleEsc = (e) => {\r\n    const { toggleModal } = this.props;\r\n    if (e.code === \"Escape\") {\r\n      toggleModal();\r\n    }\r\n  };\r\n  render() {\r\n    const { children } = this.props;\r\n    return createPortal(\r\n      <div className={s.backDrop} onClick={this.handleClose}>\r\n        <div className={s.content}>{children}</div>\r\n      </div>,\r\n      modalRoot\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport s from \"./Searchbar.module.css\";\r\nimport Modal from \"../Modal/Modal\";\r\n\r\nclass Searchbar extends Component {\r\n  state = {\r\n    queryVal: \"\",\r\n  };\r\n\r\n  handleChange = (e) => {\r\n    // this.setState((prev) => ({ queryValue: e.target.value }));\r\n    this.setState({ queryVal: e.target.value });\r\n  };\r\n  handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    const { onSubmit } = this.props;\r\n\r\n    onSubmit(this.state.queryVal);\r\n\r\n    this.state.queryVal = \"\";\r\n  };\r\n\r\n  render() {\r\n    const { handleChange, handleSubmit } = this;\r\n    const { queryVal } = this.state;\r\n    return (\r\n      <>\r\n        <header className={s.Searchbar}>\r\n          <form className={s.SearchForm} onSubmit={handleSubmit}>\r\n            <button type=\"submit\" className={s.SearchFormButton}>\r\n              <span className={s.SearchFormButtonLabel}>Search</span>\r\n            </button>\r\n\r\n            <input\r\n              className={s.SearchFormInput}\r\n              type=\"text\"\r\n              autoComplete=\"off\"\r\n              autoFocus\r\n              placeholder=\"Search images and photos\"\r\n              onChange={handleChange}\r\n              value={queryVal}\r\n            />\r\n          </form>\r\n        </header>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Searchbar;\r\n","import React from \"react\";\r\n\r\nimport s from \"../ImageGallery/ImageGallery.module.css\";\r\n\r\nconst ImageGalleryItem = ({ el, getElem }) => {\r\n  const { webformatURL, largeImageURL } = el;\r\n  return (\r\n    <li\r\n      className={s.ImageGalleryItem}\r\n      onClick={() => {\r\n        getElem(largeImageURL);\r\n      }}\r\n    >\r\n      <img src={webformatURL} alt=\"img\" className={s.ImageGalleryItemImage} />\r\n    </li>\r\n  );\r\n};\r\nexport default ImageGalleryItem;\r\n","import React from \"react\";\r\nimport s from \"./Button.module.css\";\r\n\r\nconst Button = ({ children, onClick }) => {\r\n  return (\r\n    <button className={s.btn} type=\"button\" onClick={onClick}>\r\n      {children}\r\n    </button>\r\n  );\r\n};\r\n\r\nexport default Button;\r\n","import axios from \"axios\";\r\n\r\nasync function getFetch(query, page) {\r\n  // let key = \"563492ad6f91700001000001390f9fee0a794c1182a72e49e0e0eae2\";\r\n  // let key = `563492ad6f917000010000013bbd01457a39431887d74f69015c0d48`;\r\n  let key = `19973249-c52aafd5b7bc4f65352a2c6d7`;\r\n  let baseURL = `https://pixabay.com/api/`;\r\n  let searchUrl = `/?q=${query}&page=${page}&key=${key}&image_type=photo&orientation=horizontal&per_page=12`;\r\n  let url = baseURL + searchUrl;\r\n  try {\r\n    const response = await axios.get(url);\r\n    const data = response.data;\r\n\r\n    return data;\r\n  } catch (err) {\r\n    throw err;\r\n  }\r\n  // const response = await axios.get(url);\r\n  // const data = response.data;\r\n\r\n  // return data;\r\n}\r\n\r\nexport default { getFetch };\r\n","import React, { Component } from \"react\";\r\nimport ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\r\nimport Modal from \"../Modal/Modal\";\r\nimport Button from \"../Button/Button\";\r\n\r\nimport s from \"./ImageGallery.module.css\";\r\nimport shortid from \"shortid\";\r\n\r\nimport x from \"../../services/pixabayApi\";\r\nconst { getFetch } = x;\r\n\r\nclass ImageGallery extends Component {\r\n  state = {\r\n    showModal: false,\r\n    elem: null,\r\n  };\r\n\r\n  toggleModal = () => {\r\n    this.setState({ showModal: !this.state.showModal });\r\n  };\r\n  getElem = (elem) => {\r\n    this.toggleModal();\r\n    this.setState({ elem });\r\n  };\r\n  render() {\r\n    const { gallery, total, onClick } = this.props;\r\n    const { elem, showModal } = this.state;\r\n    const shouldRenderLoadMoreBtn =\r\n      gallery.length > 0 && gallery.length < total;\r\n\r\n    return (\r\n      <div className={s.GalleryContainer}>\r\n        <ul className={s.ImageGallery}>\r\n          {gallery.map((el) => (\r\n            <ImageGalleryItem\r\n              key={shortid.generate()}\r\n              el={el}\r\n              getElem={this.getElem}\r\n            />\r\n          ))}\r\n        </ul>\r\n        {showModal && (\r\n          <Modal toggleModal={this.toggleModal}>\r\n            <img src={elem} alt=\"img\" className={s.modalImg}></img>\r\n          </Modal>\r\n        )}\r\n        {shouldRenderLoadMoreBtn && (\r\n          <Button onClick={onClick}>Load more</Button>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ImageGallery;\r\n","import \"./App.css\";\nimport React, { Component } from \"react\";\n\nimport Searchbar from \"./components/Searchbar\";\nimport ImageGallery from \"./components/ImageGallery/ImageGallery\";\nimport Loader from \"react-loader-spinner\";\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\n\nimport x from \"../src/services/pixabayApi\";\nconst { getFetch } = x;\n\nclass App extends Component {\n  state = {\n    query: \"\",\n    page: 1,\n    gallery: [],\n    total: 0,\n    msg: \"\",\n    isLoading: false,\n    selectedImg: \"\",\n    // shouldRender: false,\n  };\n\n  async componentDidMount() {\n    // const { query, page, gallery } = this.state;\n    // getFetch(query, page).then((result) => {\n    //   this.setState({ gallery: [...result] });\n    // });\n  }\n\n  async componentDidUpdate(prevProps, prevState) {\n    if (prevState.query !== this.state.query) {\n      this.fetchGalleryItems();\n    }\n  }\n\n  fetchGalleryItems = () => {\n    const { query, page } = this.state;\n\n    this.setState({ isLoading: true });\n\n    getFetch(query, page)\n      .then((result) => {\n        if (result.hits.length) {\n          this.setState((prevState) => ({\n            gallery: [...prevState.gallery, ...result.hits],\n            total: result.total,\n            page: prevState.page + 1,\n          }));\n\n          window.scrollTo({\n            top: document.documentElement.scrollHeight,\n            behavior: \"smooth\",\n          });\n        } else {\n          this.setState({ msg: \"Nothing to show by your request\" });\n\n          alert(this.state.msg);\n        }\n      })\n      .catch((err) => {\n        console.log(err);\n      })\n      .finally(() => this.setState({ isLoading: false }));\n  };\n\n  getQuery = (query) => {\n    this.setState({ query, page: 1, gallery: [] });\n  };\n\n  render() {\n    const { gallery, isLoading, total } = this.state;\n    const { getQuery, fetchGalleryItems } = this;\n\n    return (\n      <>\n        <Searchbar onSubmit={getQuery} />\n\n        <ImageGallery\n          total={total}\n          gallery={gallery}\n          onClick={fetchGalleryItems}\n        />\n        {isLoading && (\n          <Loader\n            type=\"Circles\"\n            color=\"#00BFFF\"\n            height={100}\n            width={100}\n            timeout={3000} //3 secs\n          />\n        )}\n      </>\n    );\n  }\n}\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport 'modern-normalize/modern-normalize.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"GalleryContainer\":\"ImageGallery_GalleryContainer__KKfsc\",\"ImageGallery\":\"ImageGallery_ImageGallery__2xWGf\",\"ImageGalleryItemImage\":\"ImageGallery_ImageGalleryItemImage__1CvbD\",\"modalImg\":\"ImageGallery_modalImg__1z2mg\"};"],"sourceRoot":""}